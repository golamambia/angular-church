import { Injectable, Component, NgModule } from '@angular/core';
import { Subject } from 'rxjs';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';

function AlertsComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r3 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div");
    ɵngcc0.ɵɵelementStart(1, "div", 3);
    ɵngcc0.ɵɵelementStart(2, "i", 4);
    ɵngcc0.ɵɵtext(3);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(4, "div", 5);
    ɵngcc0.ɵɵtext(5);
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementStart(6, "div", 6);
    ɵngcc0.ɵɵelementStart(7, "a", 7);
    ɵngcc0.ɵɵlistener("click", function AlertsComponent_div_2_Template_a_click_7_listener() { ɵngcc0.ɵɵrestoreView(_r3); const message_r1 = ctx.$implicit; const ctx_r2 = ɵngcc0.ɵɵnextContext(); return ctx_r2.removeMessage(message_r1); });
    ɵngcc0.ɵɵtext(8, "X");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    const message_r1 = ctx.$implicit;
    ɵngcc0.ɵɵclassMapInterpolate1("alertsRow ", message_r1.type, "");
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵtextInterpolate(message_r1.icon);
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵtextInterpolate(message_r1.message);
} }
var /** @type {?} */ AlertsConfigData = {};
AlertsConfigData["error"] = {
    icon: 'error'
};
AlertsConfigData["success"] = {
    icon: 'done'
};
AlertsConfigData["DefaultSettings"] = {
    icon: 'error',
    timeout: 3
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class AlertsService {
    constructor() {
        // Observable alerts
        this.alertsSubject = new Subject();
    }
    /**
     * @param {?} message
     * @param {?} type
     * @return {?}
     */
    setMessage(message, type) {
        this.alertsSubject.next({ message: message, type: type });
    }
    /**
     * @return {?}
     */
    getSubject() {
        return this.alertsSubject.asObservable();
    }
    /**
     * @param {?} messagetype
     * @param {?} key
     * @return {?}
     */
    getConfig(messagetype, key) {
        if (typeof AlertsConfigData[messagetype] == 'undefined') {
            return AlertsConfigData["DefaultSettings"][key];
        }
        else {
            return (typeof AlertsConfigData[messagetype][key] != 'undefined') ? AlertsConfigData[messagetype][key] : AlertsConfigData["DefaultSettings"][key];
        }
    }
    /**
     * @param {?} messagetype
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    setConfig(messagetype, key, value) {
        if (typeof AlertsConfigData[messagetype] == 'undefined') {
            AlertsConfigData[messagetype] = {};
        }
        AlertsConfigData[messagetype][key] = value;
    }
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    setDefaults(key, value) {
        AlertsConfigData["DefaultSettings"][key] = value;
    }
}
AlertsService.ɵfac = function AlertsService_Factory(t) { return new (t || AlertsService)(); };
AlertsService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: AlertsService, factory: AlertsService.ɵfac });
/** @nocollapse */
AlertsService.ctorParameters = () => [];
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AlertsService, [{
        type: Injectable
    }], function () { return []; }, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class AlertsComponent {
    /**
     * @param {?} alerts
     */
    constructor(alerts) {
        this.alerts = alerts;
        this.messages = [];
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.alerts.getSubject().subscribe((object) => {
            object["icon"] = this.alerts.getConfig(object.type, 'icon');
            this.timeout = this.alerts.getConfig(object.type, 'timeout');
            console.log('this.timeout', this.timeout);
            this.messages.push(object);
            if (this.timeout > 0) {
                setTimeout(() => {
                    this.removeMessage(object);
                }, this.timeout * 1000);
            }
        });
    }
    /**
     * @param {?} message
     * @return {?}
     */
    removeMessage(message) {
        this.messages.splice(this.messages.indexOf(message), 1);
    }
}
AlertsComponent.ɵfac = function AlertsComponent_Factory(t) { return new (t || AlertsComponent)(ɵngcc0.ɵɵdirectiveInject(AlertsService)); };
AlertsComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: AlertsComponent, selectors: [["app-alerts"]], decls: 3, vars: 1, consts: [["href", ɵngcc0.ɵɵtrustConstantResourceUrl("https://fonts.googleapis.com/icon?family=Material+Icons"), "rel", "stylesheet"], [1, "alertsContainer"], [3, "class", 4, "ngFor", "ngForOf"], [1, "iconpanel"], [1, "mat-icon", "material-icons"], [1, "messagepanel"], [1, "closeicon"], ["href", "#", 3, "click"]], template: function AlertsComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelement(0, "link", 0);
        ɵngcc0.ɵɵelementStart(1, "div", 1);
        ɵngcc0.ɵɵtemplate(2, AlertsComponent_div_2_Template, 9, 5, "div", 2);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngForOf", ctx.messages);
    } }, directives: [ɵngcc1.NgForOf], styles: [".alertsContainer[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px}.alertsContainer[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{padding-top:36%}.alertsContainer[_ngcontent-%COMP%]   .alertsRow[_ngcontent-%COMP%]{margin-top:12px;transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:2px;transition:3s opacity 0;float:left;clear:both}.alertsContainer[_ngcontent-%COMP%]   .alertsRow[_ngcontent-%COMP%]   .iconpanel[_ngcontent-%COMP%]{float:left;width:50px;padding:15px;text-align:center;height:51px}.alertsContainer[_ngcontent-%COMP%]   .alertsRow[_ngcontent-%COMP%]   .messagepanel[_ngcontent-%COMP%]{float:left;height:41px;padding:20px;text-align:left;max-width:353px;width:350px}.alertsContainer[_ngcontent-%COMP%]   .alertsRow[_ngcontent-%COMP%]   .closeicon[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;display:none;text-decoration:none}.alertsContainer[_ngcontent-%COMP%]   .alertsRow[_ngcontent-%COMP%]:hover   .closeicon[_ngcontent-%COMP%]{display:block}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.error[_ngcontent-%COMP%]{border:1px solid #d80202}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.error[_ngcontent-%COMP%]   .iconpanel[_ngcontent-%COMP%]{background:#d80202}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.error[_ngcontent-%COMP%]   .messagepanel[_ngcontent-%COMP%]{color:#000;background:#fff}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.error[_ngcontent-%COMP%]   .closeicon[_ngcontent-%COMP%]{color:#000}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.error[_ngcontent-%COMP%]   .closeicon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-size:12px}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.success[_ngcontent-%COMP%]{border:1px solid #27b235}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.success[_ngcontent-%COMP%]   .iconpanel[_ngcontent-%COMP%]{background:#27b235;color:#fff}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.success[_ngcontent-%COMP%]   .messagepanel[_ngcontent-%COMP%]{color:#000;background:#fff}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.success[_ngcontent-%COMP%]   .closeicon[_ngcontent-%COMP%]{color:#000}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.success[_ngcontent-%COMP%]   .closeicon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-size:12px}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.warn[_ngcontent-%COMP%]{border:1px solid #ffc549}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.warn[_ngcontent-%COMP%]   .iconpanel[_ngcontent-%COMP%]{background:#ffc549;color:#fff}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.warn[_ngcontent-%COMP%]   .messagepanel[_ngcontent-%COMP%]{color:#000;background:#fff}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.warn[_ngcontent-%COMP%]   .closeicon[_ngcontent-%COMP%]{color:#000}.alertsContainer[_ngcontent-%COMP%]   .alertsRow.warn[_ngcontent-%COMP%]   .closeicon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-size:12px}"] });
/** @nocollapse */
AlertsComponent.ctorParameters = () => [
    { type: AlertsService, },
];
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AlertsComponent, [{
        type: Component,
        args: [{
                selector: 'app-alerts',
                template: `<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<div  class="alertsContainer">
	<div class="alertsRow {{message.type}}" *ngFor="let message of messages">
		<div class="iconpanel"><i class="mat-icon material-icons">{{message.icon}}</i></div>
		<div class="messagepanel">{{message.message}}</div>
		<div class="closeicon"><a (click)="removeMessage(message)" href="#">X</a></div>
  	</div>
</div>`,
                styles: [`.alertsContainer{position:absolute;top:10px;right:20px}.alertsContainer .material-icons{padding-top:36%}.alertsContainer .alertsRow{margin-top:12px;transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);border-radius:2px;transition:3s opacity 0;float:left;clear:both}.alertsContainer .alertsRow .iconpanel{float:left;width:50px;padding:15px;text-align:center;height:51px}.alertsContainer .alertsRow .messagepanel{float:left;height:41px;padding:20px;text-align:left;max-width:353px;width:350px}.alertsContainer .alertsRow .closeicon{position:absolute;top:10px;right:10px;display:none;text-decoration:none}.alertsContainer .alertsRow:hover .closeicon{display:block}.alertsContainer .alertsRow.error{border:1px solid #d80202}.alertsContainer .alertsRow.error .iconpanel{background:#d80202}.alertsContainer .alertsRow.error .messagepanel{color:#000;background:#fff}.alertsContainer .alertsRow.error .closeicon{color:#000}.alertsContainer .alertsRow.error .closeicon a{color:#000;text-decoration:none;font-size:12px}.alertsContainer .alertsRow.success{border:1px solid #27b235}.alertsContainer .alertsRow.success .iconpanel{background:#27b235;color:#fff}.alertsContainer .alertsRow.success .messagepanel{color:#000;background:#fff}.alertsContainer .alertsRow.success .closeicon{color:#000}.alertsContainer .alertsRow.success .closeicon a{color:#000;text-decoration:none;font-size:12px}.alertsContainer .alertsRow.warn{border:1px solid #ffc549}.alertsContainer .alertsRow.warn .iconpanel{background:#ffc549;color:#fff}.alertsContainer .alertsRow.warn .messagepanel{color:#000;background:#fff}.alertsContainer .alertsRow.warn .closeicon{color:#000}.alertsContainer .alertsRow.warn .closeicon a{color:#000;text-decoration:none;font-size:12px}`]
            }]
    }], function () { return [{ type: AlertsService }]; }, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class AlertsModule {
    /**
     * @return {?}
     */
    static forRoot() {
        return {
            ngModule: AlertsModule,
            providers: [AlertsService]
        };
    }
}
AlertsModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AlertsModule });
AlertsModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AlertsModule_Factory(t) { return new (t || AlertsModule)(); }, imports: [[
            CommonModule
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AlertsModule, { declarations: function () { return [AlertsComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [AlertsComponent]; } }); })();
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AlertsModule, [{
        type: NgModule,
        args: [{
                imports: [
                    CommonModule
                ],
                declarations: [
                    AlertsComponent
                ],
                exports: [
                    AlertsComponent
                ]
            }]
    }], null, null); })();

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { AlertsService, AlertsComponent, AlertsModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxlcnRzLmpzIiwic291cmNlcyI6WyJhbGVydHMvbGliL2FsZXJ0cy5jb25maWcudHMiLCJhbGVydHMvbGliL2FsZXJ0cy5zZXJ2aWNlLnRzIiwiYWxlcnRzL2xpYi9hbGVydHMuY29tcG9uZW50LnRzIiwiYWxlcnRzL2xpYi9hbGVydHMubW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJTyxxQkFBSSxnQkFBZ0IsR0FBZSxFQUFFLENBQUM7QUFFN0MsZ0JBQWdCLFlBQVM7QUFDekIsSUFBQyxJQUFJLEVBQUUsT0FBTztBQUNkLENBQUMsQ0FBQztBQUVGLGdCQUFnQixjQUFXO0FBQzNCLElBQUMsSUFBSSxFQUFFLE1BQU07QUFDYixDQUFDLENBQUM7QUFFRixnQkFBZ0Isc0JBQW1CO0FBQ25DLElBQUMsSUFBSSxFQUFFLE9BQU87QUFDZCxJQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ1gsQ0FBQyxDQUFDO0FBQUM7QUFBQztBQUFJO0FBQWtDO0FBQXlDO0FDakJuRjtBQUFzQixJQW1CcEI7QUFDRjtBQUV3Qiw2QkFMTixJQUFJLE9BQU8sRUFBVTtBQUN2QyxLQUVHO0FBQ0g7QUFDTztBQUNKO0FBQXVCO0FBQW1CO0FBQ3RDLElBREwsVUFBVSxDQUFDLE9BQWUsRUFBRSxJQUFZO0FBQzFDLFFBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLElBQUksRUFBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDO0FBQ3pELEtBQUc7QUFDSDtBQUNPO0FBQ0g7QUFBUSxJQURWLFVBQVU7QUFBSyxRQUNiLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLEVBQUUsQ0FBQztBQUM3QyxLQUFHO0FBQ0g7QUFDTztBQUE4QjtBQUNuQztBQUFtQjtBQUFRLElBRDNCLFNBQVMsQ0FBQyxXQUFtQixFQUFFLEdBQVc7QUFBSSxRQUM1QyxJQUFHLE9BQU8s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QUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBbkNBLEFBQUEsQUNiQSxBQTBCQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRkEsQUFBQSxBQUlBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFuQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFPQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBckJBLEFBQUEsQUNEQSxBQW9CQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFqQkEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIENvbmZpZ0RhdGEge1xuXHRba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCB2YXIgQWxlcnRzQ29uZmlnRGF0YTogQ29uZmlnRGF0YSA9IHt9O1xuXG5BbGVydHNDb25maWdEYXRhLmVycm9yID0ge1xuXHRpY29uOiAnZXJyb3InXG59O1xuXG5BbGVydHNDb25maWdEYXRhLnN1Y2Nlc3MgPSB7XG5cdGljb246ICdkb25lJ1xufTtcblxuQWxlcnRzQ29uZmlnRGF0YS5EZWZhdWx0U2V0dGluZ3MgPSB7XG5cdGljb246ICdlcnJvcicsXG5cdHRpbWVvdXQ6IDNcbn07IiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCB9ICAgIGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9ICAgIGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWxlcnRzQ29uZmlnRGF0YSB9IGZyb20gJy4vYWxlcnRzLmNvbmZpZyc7XG5cblxuZXhwb3J0IGludGVyZmFjZSBBbGVydHNJbnRlcmZhY2Uge1xuICBhbGVydHNTdWJqZWN0OlN1YmplY3Q8T2JqZWN0PjtcbiAgc2V0TWVzc2FnZShtZXNzYWdlOiBzdHJpbmcsIHR5cGU6IHN0cmluZyk6IHZvaWQ7XG4gIGdldENvbmZpZyhtZXNzYWdlOiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nO1xuICBzZXRDb25maWcobWVzc2FnZXR5cGU6IHN0cmluZywga2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiB2b2lkO1xufVxuIFxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEFsZXJ0c1NlcnZpY2UgaW1wbGVtZW50cyBBbGVydHNJbnRlcmZhY2UgICAge1xuIFxuICAvLyBPYnNlcnZhYmxlIGFsZXJ0c1xuICBhbGVydHNTdWJqZWN0ID0gbmV3IFN1YmplY3Q8T2JqZWN0PigpO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICB9XG5cbiAgLy8gU2VydmljZSBtZXNzYWdlIGNvbW1hbmRzXG4gIHNldE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nLCB0eXBlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmFsZXJ0c1N1YmplY3QubmV4dCh7bWVzc2FnZTptZXNzYWdlLHR5cGU6dHlwZX0pO1xuICB9XG5cbiAgZ2V0U3ViamVjdCgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmFsZXJ0c1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gIH1cblxuICBnZXRDb25maWcobWVzc2FnZXR5cGU6IHN0cmluZywga2V5OiBzdHJpbmcpIDogc3RyaW5nIHtcbiAgICBpZih0eXBlb2YgQWxlcnRzQ29uZmlnRGF0YVttZXNzYWdldHlwZV0gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIEFsZXJ0c0NvbmZpZ0RhdGEuRGVmYXVsdFNldHRpbmdzW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgQWxlcnRzQ29uZmlnRGF0YVttZXNzYWdldHlwZV1ba2V5XSAhPSAndW5kZWZpbmVkJykgPyBBbGVydHNDb25maWdEYXRhW21lc3NhZ2V0eXBlXVtrZXldOiBBbGVydHNDb25maWdEYXRhLkRlZmF1bHRTZXR0aW5nc1trZXldO1xuICAgIH0gICAgICBcbiAgfVxuXG4gIHNldENvbmZpZyhtZXNzYWdldHlwZTogc3RyaW5nLCBrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIGlmKHR5cGVvZiBBbGVydHNDb25maWdEYXRhW21lc3NhZ2V0eXBlXSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBBbGVydHNDb25maWdEYXRhW21lc3NhZ2V0eXBlXSA9IHt9O1xuICAgIH1cbiAgICBBbGVydHNDb25maWdEYXRhW21lc3NhZ2V0eXBlXVtrZXldID0gdmFsdWU7XG4gIH1cblxuICBzZXREZWZhdWx0cyhrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIEFsZXJ0c0NvbmZpZ0RhdGEuRGVmYXVsdFNldHRpbmdzW2tleV0gPSB2YWx1ZTsgICAgXG4gIH1cblxufSIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbGVydHNTZXJ2aWNlIH0gZnJvbSAnLi9hbGVydHMuc2VydmljZSc7XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2Uge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgW2tleTogc3RyaW5nXTogc3RyaW5nO1xufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhcHAtYWxlcnRzJyxcbiAgdGVtcGxhdGU6IGA8bGluayBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9pY29uP2ZhbWlseT1NYXRlcmlhbCtJY29uc1wiIHJlbD1cInN0eWxlc2hlZXRcIj5cbjxkaXYgIGNsYXNzPVwiYWxlcnRzQ29udGFpbmVyXCI+XG5cdDxkaXYgY2xhc3M9XCJhbGVydHNSb3cge3ttZXNzYWdlLnR5cGV9fVwiICpuZ0Zvcj1cImxldCBtZXNzYWdlIG9mIG1lc3NhZ2VzXCI+XG5cdFx0PGRpdiBjbGFzcz1cImljb25wYW5lbFwiPjxpIGNsYXNzPVwibWF0LWljb24gbWF0ZXJpYWwtaWNvbnNcIj57e21lc3NhZ2UuaWNvbn19PC9pPjwvZGl2PlxuXHRcdDxkaXYgY2xhc3M9XCJtZXNzYWdlcGFuZWxcIj57e21lc3NhZ2UubWVzc2FnZX19PC9kaXY+XG5cdFx0PGRpdiBjbGFzcz1cImNsb3NlaWNvblwiPjxhIChjbGljayk9XCJyZW1vdmVNZXNzYWdlKG1lc3NhZ2UpXCIgaHJlZj1cIiNcIj5YPC9hPjwvZGl2PlxuICBcdDwvZGl2PlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYC5hbGVydHNDb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEwcHg7cmlnaHQ6MjBweH0uYWxlcnRzQ29udGFpbmVyIC5tYXRlcmlhbC1pY29uc3twYWRkaW5nLXRvcDozNiV9LmFsZXJ0c0NvbnRhaW5lciAuYWxlcnRzUm93e21hcmdpbi10b3A6MTJweDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgMjgwbXMgY3ViaWMtYmV6aWVyKC40LDAsLjIsMSk7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2hhZG93OjAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsLjIpLDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsLjE0KSwwIDFweCA1cHggMCByZ2JhKDAsMCwwLC4xMik7Ym9yZGVyLXJhZGl1czoycHg7dHJhbnNpdGlvbjozcyBvcGFjaXR5IDA7ZmxvYXQ6bGVmdDtjbGVhcjpib3RofS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1JvdyAuaWNvbnBhbmVse2Zsb2F0OmxlZnQ7d2lkdGg6NTBweDtwYWRkaW5nOjE1cHg7dGV4dC1hbGlnbjpjZW50ZXI7aGVpZ2h0OjUxcHh9LmFsZXJ0c0NvbnRhaW5lciAuYWxlcnRzUm93IC5tZXNzYWdlcGFuZWx7ZmxvYXQ6bGVmdDtoZWlnaHQ6NDFweDtwYWRkaW5nOjIwcHg7dGV4dC1hbGlnbjpsZWZ0O21heC13aWR0aDozNTNweDt3aWR0aDozNTBweH0uYWxlcnRzQ29udGFpbmVyIC5hbGVydHNSb3cgLmNsb3NlaWNvbntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTBweDtyaWdodDoxMHB4O2Rpc3BsYXk6bm9uZTt0ZXh0LWRlY29yYXRpb246bm9uZX0uYWxlcnRzQ29udGFpbmVyIC5hbGVydHNSb3c6aG92ZXIgLmNsb3NlaWNvbntkaXNwbGF5OmJsb2NrfS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy5lcnJvcntib3JkZXI6MXB4IHNvbGlkICNkODAyMDJ9LmFsZXJ0c0NvbnRhaW5lciAuYWxlcnRzUm93LmVycm9yIC5pY29ucGFuZWx7YmFja2dyb3VuZDojZDgwMjAyfS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy5lcnJvciAubWVzc2FnZXBhbmVse2NvbG9yOiMwMDA7YmFja2dyb3VuZDojZmZmfS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy5lcnJvciAuY2xvc2VpY29ue2NvbG9yOiMwMDB9LmFsZXJ0c0NvbnRhaW5lciAuYWxlcnRzUm93LmVycm9yIC5jbG9zZWljb24gYXtjb2xvcjojMDAwO3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtc2l6ZToxMnB4fS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy5zdWNjZXNze2JvcmRlcjoxcHggc29saWQgIzI3YjIzNX0uYWxlcnRzQ29udGFpbmVyIC5hbGVydHNSb3cuc3VjY2VzcyAuaWNvbnBhbmVse2JhY2tncm91bmQ6IzI3YjIzNTtjb2xvcjojZmZmfS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy5zdWNjZXNzIC5tZXNzYWdlcGFuZWx7Y29sb3I6IzAwMDtiYWNrZ3JvdW5kOiNmZmZ9LmFsZXJ0c0NvbnRhaW5lciAuYWxlcnRzUm93LnN1Y2Nlc3MgLmNsb3NlaWNvbntjb2xvcjojMDAwfS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy5zdWNjZXNzIC5jbG9zZWljb24gYXtjb2xvcjojMDAwO3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtc2l6ZToxMnB4fS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy53YXJue2JvcmRlcjoxcHggc29saWQgI2ZmYzU0OX0uYWxlcnRzQ29udGFpbmVyIC5hbGVydHNSb3cud2FybiAuaWNvbnBhbmVse2JhY2tncm91bmQ6I2ZmYzU0OTtjb2xvcjojZmZmfS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy53YXJuIC5tZXNzYWdlcGFuZWx7Y29sb3I6IzAwMDtiYWNrZ3JvdW5kOiNmZmZ9LmFsZXJ0c0NvbnRhaW5lciAuYWxlcnRzUm93Lndhcm4gLmNsb3NlaWNvbntjb2xvcjojMDAwfS5hbGVydHNDb250YWluZXIgLmFsZXJ0c1Jvdy53YXJuIC5jbG9zZWljb24gYXtjb2xvcjojMDAwO3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtc2l6ZToxMnB4fWBdXG59KVxuZXhwb3J0IGNsYXNzIEFsZXJ0c0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIHB1YmxpYyBtZXNzYWdlczogT2JqZWN0W10gPSBbXTtcbiAgcHVibGljIHRpbWVvdXQ6IGFueTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBhbGVydHM6IEFsZXJ0c1NlcnZpY2UpIHsgXG5cbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuYWxlcnRzLmdldFN1YmplY3QoKS5zdWJzY3JpYmUoIChvYmplY3Q6IE1lc3NhZ2UpID0+IHtcbiAgICAgICAgb2JqZWN0Lmljb24gPSB0aGlzLmFsZXJ0cy5nZXRDb25maWcob2JqZWN0LnR5cGUsJ2ljb24nKTtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gdGhpcy5hbGVydHMuZ2V0Q29uZmlnKG9iamVjdC50eXBlLCd0aW1lb3V0Jyk7ICAgIFxuICAgICAgICBjb25zb2xlLmxvZygndGhpcy50aW1lb3V0Jyx0aGlzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgaWYodGhpcy50aW1lb3V0ID4gMCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTWVzc2FnZShvYmplY3QpO1xuICAgICAgICAgIH0sdGhpcy50aW1lb3V0ICogMTAwMCk7XG4gICAgICAgIH1cbiAgICAgIH0pOyAgICBcbiAgfVxuXG4gIHJlbW92ZU1lc3NhZ2UobWVzc2FnZTogT2JqZWN0KSB7XG4gICAgICB0aGlzLm1lc3NhZ2VzLnNwbGljZSh0aGlzLm1lc3NhZ2VzLmluZGV4T2YobWVzc2FnZSksMSk7XG4gIH1cblxufSIsImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQWxlcnRzQ29tcG9uZW50IH0gZnJvbSAnLi9hbGVydHMuY29tcG9uZW50JztcbmltcG9ydCB7IEFsZXJ0c1NlcnZpY2UgfSBmcm9tICcuL2FsZXJ0cy5zZXJ2aWNlJztcblxuZXhwb3J0ICogZnJvbSAnLi9hbGVydHMuY29tcG9uZW50JztcbmV4cG9ydCAqIGZyb20gJy4vYWxlcnRzLnNlcnZpY2UnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW1xuICAgIEFsZXJ0c0NvbXBvbmVudFxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgQWxlcnRzQ29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQWxlcnRzTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBBbGVydHNNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFtBbGVydHNTZXJ2aWNlXVxuICAgIH07XG4gIH1cbn1cbiJdfQ==